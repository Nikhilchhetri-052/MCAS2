<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="stylesheet" href="{{ url_for('static', filename='homepage.css') }}">
        <title>MCAS-Multimedia Content Analyzing System</title>
    </head>
       <body>
        <div class="main">
            <nav>
                <h1><a href="{{ url_for('home') }}">MCAS</a></h1>
                <div class="menu">
                    <ul>
                        <li><a href="{{ url_for('home') }}">Home</a></li>
                        <li><a href="{{ url_for('Login') }}">Login</a></li>
                        <li><a href="{{ url_for('register') }}">Register</a></li>
                    </ul>
                </div>
            </nav>
        </div>
        <div class="title">
            <h1>Multimedia Content Summarizer</h1>
            <h4>Generate a summary of your desired video with only one click!</h4>

        <div class="inputbox">
                <input type="text" id="videoURL" placeholder="https://www.youtube.com/watch?v=dQw4w9WgXcQ">
        </div>
        </div>
        <div class="button">
            <button onclick="validateAndRedirect()">Generate Summary</button>
        </div>
          
        <script>
            function validateAndRedirect() {
                const urlInput = document.getElementById('videoURL').value;
                const youtubeUrlPattern = /^(https?\:\/\/)?(www\.youtube\.com|youtu\.?be)\/.+$/;
    
                if (youtubeUrlPattern.test(urlInput)) {
                    // Extract video ID from URL
                    const videoId = urlInput.split("v=")[1] || urlInput.split("/").pop();
    
                    // Save the video ID in session storage to access in summary.html
                    sessionStorage.setItem("videoId", videoId);
    
                    // Redirect to summary page
                    window.location.href = "/summary";
                } else {
                    alert("Please provide a valid YouTube URL.");
                }
            }
        </script>        
        <div class="tutorial">
            <h1>How to Summarize Videos?</h1>
            <h4>Following steps can be followed:</h4>
        </div>
        <div class="step1">
            <h6>1. Copy and paste the link.</h6>
            <img src="{{ url_for('static', filename='step1.png') }}">
        </div>
        <div class="step2">
            <h6>2. Hit Generate Summary.</h6>
            <img src="{{ url_for('static', filename='click.png') }}">
        </div>
        <div class="step3">
            <h6>3. The summary is now generated!</h6>
            <img src="{{ url_for('static', filename='summary.png') }}">
        </div>
        <div class="footer">
            <h2>About US:</h2>
            <h4>MCAS</h4>
            <p>MCAS- A simple tool to generate summaries of videos and improve your efficiency.</p>
            <div class="contact">
                <h5>Contact us:</h5>
                <p>MCAS@gmail.com</p>
                <ion-icon name="mail-outline"></ion-icon>
            </div>
            <div class="copyright">
                <h6>Copyright 2024 MCAS. All rights reserved.</h6>
            </div>
        </div>
    </body>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    </body>
</html>
    